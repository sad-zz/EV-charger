(kicad_pcb (version 20221018) (generator pcbnew)

  (general
    (thickness 2.0)
  )

  (paper "A2")
  (title_block
    (title "DC Fast Charger - PCB Layout")
    (date "2026-01-01")
    (rev "1.0")
    (company "Iran EV Charger Project")
    (comment 1 "60-120kW CCS2 DC Fast Charger")
    (comment 2 "WARNING: HIGH VOLTAGE - 800V DC")
  )

  (layers
    (0 "F.Cu" signal)
    (1 "In1.Cu" power "GND")
    (2 "In2.Cu" power "+12V/+48V")
    (3 "In3.Cu" signal)
    (4 "In4.Cu" signal)
    (31 "B.Cu" signal)
    (32 "B.Adhes" user "B.Adhesive")
    (33 "F.Adhes" user "F.Adhesive")
    (34 "B.Paste" user)
    (35 "F.Paste" user)
    (36 "B.SilkS" user "B.Silkscreen")
    (37 "F.SilkS" user "F.Silkscreen")
    (38 "B.Mask" user)
    (39 "F.Mask" user)
    (40 "Dwgs.User" user "User.Drawings")
    (41 "Cmts.User" user "User.Comments")
    (44 "Edge.Cuts" user)
    (46 "B.CrtYd" user "B.Courtyard")
    (47 "F.CrtYd" user "F.Courtyard")
    (48 "B.Fab" user)
    (49 "F.Fab" user)
  )

  (setup
    (pad_to_mask_clearance 0)
    (pcbplotparams
      (layerselection 0x00010fc_ffffffff)
      (plot_on_all_layers_selection 0x0000000_00000000)
      (disableapertmacros false)
      (usegerberextensions false)
      (usegerberattributes true)
      (usegerberadvancedattributes true)
      (creategerberjobfile true)
      (svgprecision 4)
      (plotframeref false)
      (viasonmask false)
      (mode 1)
      (useauxorigin false)
      (hpglpennumber 1)
      (hpglpenspeed 20)
      (hpglpendiameter 15.000000)
      (psnegative false)
      (psa4output false)
      (plotreference true)
      (plotvalue true)
      (plotinvisibletext false)
      (sketchpadsonfab false)
      (subtractmaskfromsilk false)
      (outputformat 1)
      (mirror false)
      (drillshape 0)
      (scaleselection 1)
      (outputdirectory "gerber/")
    )
  )

  (net 0 "")
  (net 1 "GND")
  (net 2 "DC_BUS+")
  (net 3 "DC_BUS-")
  (net 4 "+48V")
  (net 5 "+12V")
  (net 6 "+5V")
  (net 7 "+3.3V")
  (net 8 "CAN_H")
  (net 9 "CAN_L")
  (net 10 "CP")
  (net 11 "PP")

  (gr_rect (start 10 10) (end 310 210)
    (stroke (width 0.3) (type solid)) (fill none) (layer "Edge.Cuts") (tstamp edge-cut-main))

  (gr_text "DC FAST CHARGER\n300mm x 200mm\n6-Layer PCB" (at 160 110 0) (layer "F.SilkS") (tstamp text-title)
    (effects (font (size 5 5) (thickness 0.8) bold) (justify center))
  )

  (gr_text "⚠ DANGER ⚠\nHIGH VOLTAGE\n800V DC" (at 50 50 0) (layer "F.SilkS") (tstamp text-warning-1)
    (effects (font (size 4 4) (thickness 0.7) bold) (justify center))
  )

  (gr_text "⚠ DANGER ⚠\nHIGH VOLTAGE\n800V DC" (at 260 50 0) (layer "F.SilkS") (tstamp text-warning-2)
    (effects (font (size 4 4) (thickness 0.7) bold) (justify center))
  )

  (gr_line (start 10 90) (end 310 90)
    (stroke (width 1.0) (type solid)) (layer "Cmts.User") (tstamp line-sep-1))

  (gr_text "SAFETY MCU ZONE" (at 80 30 0) (layer "Cmts.User") (tstamp text-safety-zone)
    (effects (font (size 3 3) (thickness 0.5)) (justify center))
  )

  (gr_text "MAIN SOM ZONE" (at 240 30 0) (layer "Cmts.User") (tstamp text-som-zone)
    (effects (font (size 3 3) (thickness 0.5)) (justify center))
  )

  (gr_text "POWER STAGE\nHIGH CURRENT" (at 160 180 0) (layer "Cmts.User") (tstamp text-power)
    (effects (font (size 3 3) (thickness 0.5)) (justify center))
  )

  (gr_rect (start 20 100) (end 140 150)
    (stroke (width 0.5) (type dash)) (fill none) (layer "Cmts.User") (tstamp keepout-1))

  (gr_text "Keep clear\n5mm clearance\nto HV traces" (at 80 125 0) (layer "Cmts.User") (tstamp text-keepout)
    (effects (font (size 2 2) (thickness 0.3)) (justify center))
  )

  (zone (net 1) (net_name "GND") (layer "In1.Cu") (tstamp zone-gnd-plane)
    (hatch edge 0.508)
    (connect_pads (clearance 0.3))
    (min_thickness 0.3)
    (filled_areas_thickness no)
    (fill yes (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 15 15)
        (xy 305 15)
        (xy 305 205)
        (xy 15 205)
      )
    )
  )

  (zone (net 4) (net_name "+48V") (layer "In2.Cu") (tstamp zone-48v)
    (hatch edge 0.508)
    (connect_pads (clearance 0.5))
    (min_thickness 0.5)
    (fill yes (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 20 95)
        (xy 150 95)
        (xy 150 195)
        (xy 20 195)
      )
    )
  )

  (zone (net 7) (net_name "+3.3V") (layer "In2.Cu") (tstamp zone-3v3)
    (hatch edge 0.508)
    (connect_pads (clearance 0.3))
    (min_thickness 0.3)
    (fill yes (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 160 20)
        (xy 300 20)
        (xy 300 85)
        (xy 160 85)
      )
    )
  )

)
