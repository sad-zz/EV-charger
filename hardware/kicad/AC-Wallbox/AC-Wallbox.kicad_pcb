(kicad_pcb (version 20221018) (generator pcbnew)

  (general
    (thickness 1.6)
  )

  (paper "A3")
  (title_block
    (title "AC Wallbox EV Charger - PCB Layout")
    (date "2026-01-01")
    (rev "1.0")
    (company "Iran EV Charger Project")
  )

  (layers
    (0 "F.Cu" signal)
    (1 "In1.Cu" power)
    (2 "In2.Cu" power)
    (31 "B.Cu" signal)
    (32 "B.Adhes" user "B.Adhesive")
    (33 "F.Adhes" user "F.Adhesive")
    (34 "B.Paste" user)
    (35 "F.Paste" user)
    (36 "B.SilkS" user "B.Silkscreen")
    (37 "F.SilkS" user "F.Silkscreen")
    (38 "B.Mask" user)
    (39 "F.Mask" user)
    (40 "Dwgs.User" user "User.Drawings")
    (41 "Cmts.User" user "User.Comments")
    (42 "Eco1.User" user "User.Eco1")
    (43 "Eco2.User" user "User.Eco2")
    (44 "Edge.Cuts" user)
    (45 "Margin" user)
    (46 "B.CrtYd" user "B.Courtyard")
    (47 "F.CrtYd" user "F.Courtyard")
    (48 "B.Fab" user)
    (49 "F.Fab" user)
  )

  (setup
    (pad_to_mask_clearance 0)
    (pcbplotparams
      (layerselection 0x00010fc_ffffffff)
      (plot_on_all_layers_selection 0x0000000_00000000)
      (disableapertmacros false)
      (usegerberextensions false)
      (usegerberattributes true)
      (usegerberadvancedattributes true)
      (creategerberjobfile true)
      (dashed_line_dash_ratio 12.000000)
      (dashed_line_gap_ratio 3.000000)
      (svgprecision 4)
      (plotframeref false)
      (viasonmask false)
      (mode 1)
      (useauxorigin false)
      (hpglpennumber 1)
      (hpglpenspeed 20)
      (hpglpendiameter 15.000000)
      (dxfpolygonmode true)
      (dxfimperialunits true)
      (dxfusepcbnewfont true)
      (psnegative false)
      (psa4output false)
      (plotreference true)
      (plotvalue true)
      (plotinvisibletext false)
      (sketchpadsonfab false)
      (subtractmaskfromsilk false)
      (outputformat 1)
      (mirror false)
      (drillshape 0)
      (scaleselection 1)
      (outputdirectory "gerber/")
    )
  )

  (net 0 "")
  (net 1 "GND")
  (net 2 "+12V")
  (net 3 "+5V")
  (net 4 "+3.3V")
  (net 5 "-12V")
  (net 6 "AC_L")
  (net 7 "AC_N")
  (net 8 "PE")
  (net 9 "CP_OUT")
  (net 10 "PP_SENSE")

  (gr_rect (start 10 10) (end 160 110)
    (stroke (width 0.2) (type solid)) (fill none) (layer "Edge.Cuts") (tstamp edge-cut-1))

  (gr_text "AC Wallbox PCB\n150mm x 100mm\n4-Layer Board" (at 85 60 0) (layer "F.SilkS") (tstamp text-board-info)
    (effects (font (size 3 3) (thickness 0.5)) (justify center))
  )

  (gr_text "POWER SECTION" (at 40 30 0) (layer "Cmts.User") (tstamp text-power)
    (effects (font (size 2 2) (thickness 0.3)) (justify center))
  )

  (gr_text "CONTROL SECTION" (at 120 30 0) (layer "Cmts.User") (tstamp text-control)
    (effects (font (size 2 2) (thickness 0.3)) (justify center))
  )

  (gr_line (start 80 20) (end 80 100)
    (stroke (width 0.5) (type dash)) (layer "Cmts.User") (tstamp line-separation))

  (zone (net 1) (net_name "GND") (layer "F.Cu") (tstamp zone-gnd-f)
    (hatch edge 0.508)
    (connect_pads (clearance 0.2))
    (min_thickness 0.2)
    (filled_areas_thickness no)
    (keepout (tracks not_allowed) (vias not_allowed) (pads not_allowed) (copperpour not_allowed) (footprints not_allowed))
    (fill yes (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 15 15)
        (xy 155 15)
        (xy 155 105)
        (xy 15 105)
      )
    )
  )

  (zone (net 1) (net_name "GND") (layer "B.Cu") (tstamp zone-gnd-b)
    (hatch edge 0.508)
    (connect_pads (clearance 0.2))
    (min_thickness 0.2)
    (filled_areas_thickness no)
    (fill yes (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 15 15)
        (xy 155 15)
        (xy 155 105)
        (xy 15 105)
      )
    )
  )

  (zone (net 2) (net_name "+12V") (layer "In1.Cu") (tstamp zone-12v)
    (hatch edge 0.508)
    (connect_pads (clearance 0.3))
    (min_thickness 0.3)
    (fill yes (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 20 20)
        (xy 75 20)
        (xy 75 100)
        (xy 20 100)
      )
    )
  )

  (zone (net 4) (net_name "+3.3V") (layer "In2.Cu") (tstamp zone-3v3)
    (hatch edge 0.508)
    (connect_pads (clearance 0.2))
    (min_thickness 0.2)
    (fill yes (thermal_gap 0.508) (thermal_bridge_width 0.508))
    (polygon
      (pts
        (xy 85 20)
        (xy 150 20)
        (xy 150 100)
        (xy 85 100)
      )
    )
  )

)
